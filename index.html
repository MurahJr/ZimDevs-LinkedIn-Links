<!DOCTYPE html>
<html>
<head>
	<title>LinkedIn Links</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div class="container">
		<h1>Share Your LinkedIn Profile</h1>
		<img src="linkedin-logo.png" alt="LinkedIn Logo">
		<form id="linkedin-form">
			<label for="name">Enter your name:</label>
			<input type="text" id="name" name="name" required>
			<label for="linkedin-link">Enter your LinkedIn profile link:</label>
			<input type="url" id="linkedin-link" name="linkedin-link" required>
			<button type="submit">Submit</button>
		</form>
		<h2>LinkedIn Profiles</h2>
		<ul id="linkedin-links">
			<!-- Links will be added here -->
		</ul>
	</div>
	<script>
		// Get the form and links container
		const form = document.getElementById('linkedin-form');
		const linksContainer = document.getElementById('linkedin-links');

		// Add an event listener to the form
		form.addEventListener('submit', (e) => {
			e.preventDefault();
			const name = document.getElementById('name').value;
			const link = document.getElementById('linkedin-link').value;
			addLink(name, link);
			form.reset();
		});

		// Function to add a link to the list
		function addLink(name, link) {
			const linkElement = document.createElement('li');
			linkElement.innerHTML = `<a href="${link}" target="_blank">${name} - ${link}</a>`;
			linksContainer.appendChild(linkElement);

			// Post the data to the GitHub API
			const apiUrl = 'https://api.github.com/repos/MurahJr/ZimDevs-LinkedIn-Links/issues';
			const token = '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';
			const issueData = {
				title: name,
				body: link
			};

			fetch(apiUrl, {
				method: 'POST',
				headers: {
					'Authorization': `Bearer ${token}`,
					'Accept': 'application/vnd.github.v3+json',
					'Content-Type': 'application/json'
				},
				body: JSON.stringify(issueData),
			})
			.then((res) => res.json())
			.then((data) => {
				console.log(data);
			})
			.catch((error) => {
				console.error('Error:', error);
			});
		}

		// Get the data from the GitHub API and display it
		const apiUrl = 'https://api.github.com/repos/MurahJr/ZimDevs-LinkedIn-Links/issues';
		const token = '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';

		fetch(apiUrl, {
			method: 'GET',
			headers: {
				'Authorization': `Bearer ${token}`,
				'Accept': 'application/vnd.github.v3+json'
			},
		})
		.then((res) => res.json())
		.then((data) => {
			data.forEach((issue) => {
				addLink(issue.title, issue.body);
			});
		})
		.catch((error) => {
			console.error('Error:', error);
		});
	</script>
</body>
</html>
